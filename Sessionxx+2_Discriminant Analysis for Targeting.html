<!DOCTYPE html>
<html lang="en"><head>
<script src="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/clipboard/clipboard.min.js"></script>
<script src="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/quarto-html/tabby.min.js"></script>
<script src="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/quarto-html/popper.min.js"></script>
<script src="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Sessionxx+2_Discriminant Analysis for Targeting_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">
<meta name="author" content="Sungjin Kim">
<title>Session xx+2</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cbccc6; background-color: #1f2430; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #cbccc6; } /* Normal */
    code span.al { color: #ff3333; background-color: #332430; font-weight: bold; } /* Alert */
    code span.an { color: #ffe6b3; } /* Annotation */
    code span.at { color: #73d0ff; } /* Attribute */
    code span.bn { color: #ffcc66; } /* BaseN */
    code span.bu { color: #95e6cb; } /* BuiltIn */
    code span.cf { color: #ffa759; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #95e6cb; } /* Char */
    code span.cn { color: #d4bfff; } /* Constant */
    code span.co { color: #5c6773; font-style: italic; } /* Comment */
    code span.cv { color: #d4bfff; } /* CommentVar */
    code span.do { color: #5c6773; } /* Documentation */
    code span.dt { color: #ffa759; } /* DataType */
    code span.dv { color: #ffcc66; } /* DecVal */
    code span.er { color: #ff3333; text-decoration: underline; } /* Error */
    code span.ex { color: #73d0ff; font-weight: bold; } /* Extension */
    code span.fl { color: #ffcc66; } /* Float */
    code span.fu { color: #ffd580; } /* Function */
    code span.im { color: #bae67e; } /* Import */
    code span.in { color: #ffcc66; } /* Information */
    code span.kw { color: #ffa759; font-weight: bold; } /* Keyword */
    code span.op { color: #f29e74; } /* Operator */
    code span.ot { color: #5ccfe6; } /* Other */
    code span.pp { color: #f28779; } /* Preprocessor */
    code span.re { color: #73d0ff; background-color: #2a4254; } /* RegionMarker */
    code span.sc { color: #95e6cb; } /* SpecialChar */
    code span.ss { color: #95e6cb; } /* SpecialString */
    code span.st { color: #bae67e; } /* String */
    code span.va { color: #5ccfe6; } /* Variable */
    code span.vs { color: #bae67e; } /* VerbatimString */
    code span.wa { color: #f28779; } /* Warning */
  </style>
<link rel="stylesheet" href="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/dist/theme/quarto.css">
<link href="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center"><h1 class="title">Session xx+2</h1>
  <p class="subtitle">Discriminant Analysis for Targeting</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Sungjin Kim 
</div>
</div>
</div>

</section><section id="last-session" class="slide level2 medium"><h2>Last Session</h2>
<ul>
<li><p>The segmentation allows a firm to manage customer heterogeneity by segmenting potential customers into relatively homogeneous groups, based on individual preferences and needs.</p></li>
<li>
<p>The segmentation uses <strong>cluster analysis</strong> to help marketing managers understand</p>
<ul>
<li><p>how to identify the number of customer segments in the market</p></li>
<li><p>how to profile those customer segments.&nbsp;</p></li>
</ul>
</li>
<li><p>We learned K-means cluster analysis using R as a tool for segmentation</p></li>
</ul></section><section id="agenda" class="slide level2 medium"><h2>Agenda</h2>
<ul>
<li><p><strong>Introduction</strong></p></li>
<li>
<p>Discriminant Analysis and Classification</p>
<ul>
<li><p>Two-segment Discriminant Analysis</p></li>
<li><p>Three- (or More) Segment Discriminant Analysis</p></li>
</ul>
</li>
<li><p>Discriminant Analysis using R</p></li>
<li><p>Takeaways</p></li>
</ul></section><section id="managing-customer-heterogeneity" class="slide level2 medium"><h2>Managing Customer Heterogeneity</h2>

<img data-src="images/STP%20strategy.png" class="r-stretch quarto-figure-center"></section><section id="objectives-of-discriminant-analysis" class="slide level2 medium"><h2>Objectives of Discriminant Analysis</h2>
<ul>
<li><p>Through segmentation, the clusters are identified and described using bases variables</p></li>
<li>
<p>The next step involves profiling the customers using the descriptor variables</p>
<ul>
<li><p>Demographic and/or geographic data</p></li>
<li><p>Readily available or can be purchased</p></li>
</ul>
</li>
<li><p>Discriminant analysis and classification provide an empirical approach for identifying target customers using descriptor variables</p></li>
<li><p>Discriminant analysis involves deriving the linear (or nonlinear) combination of two or more variables that best distinguish – or discriminate – between the (a priori defined) groups.</p></li>
</ul></section><section id="objectives-of-discriminant-analysis-cont." class="slide level2 medium"><h2>Objectives of Discriminant Analysis (cont.)</h2>
<div class="goal">
<p>A key objective of discriminant analysis is to identify description variables that are good at predicting cluster membership and hence help identify (i.e., classify) objects (i.e., consumers or firms) that should be targeted given their likely membership of the target segment as suggested by their profiles.</p>
</div>
</section><section id="an-example-of-discriminant-analysis" class="slide level2 medium"><h2>An Example of Discriminant Analysis</h2>
<ul>
<li><p>Suppose you are a regional marketing manager of a supermarket chain</p></li>
<li><p>You conducted a cluster analysis using a sample of 1,000 shoppers</p></li>
<li>
<p>The cluster analysis revealed two dominant segments</p>
<ul>
<li><p>Shoppers with a high preference for <strong>quality</strong></p></li>
<li><p>Shoppers with a high preference for a low <strong>price</strong></p></li>
</ul>
</li>
<li><p>You made a plot of two variables describing the 1,000 shoppers as well as their segments</p></li>
</ul></section><section id="an-example-of-cluster-analysis-for-segmentation" class="slide level2 medium"><h2>An Example of Cluster Analysis for Segmentation</h2>
<ul>
<li>What patterns do you see?</li>
</ul>

<img data-src="images/Discriminant%20Analysis%20example.png" width="700" class="r-stretch quarto-figure-center"></section><section id="agenda-1" class="slide level2 medium"><h2>Agenda</h2>
<ul>
<li><p>Introduction</p></li>
<li>
<p><strong>Discriminant Analysis and Classification</strong></p>
<ul>
<li><p>Two-segment Discriminant Analysis</p></li>
<li><p>Three- (or More) Segment Discriminant Analysis</p></li>
</ul>
</li>
<li><p>Discriminant Analysis using R</p></li>
<li><p>Takeaways</p></li>
</ul></section><section id="two-segment-discriminant-analysis" class="slide level2 medium"><h2>Two-segment Discriminant Analysis</h2>
<ul>
<li>
<p>The graphical approach is intuitive</p>
<ul>
<li>What if we have more than two key descriptor variables?</li>
</ul>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Linear_discriminant_analysis">Discriminant analysis</a> (DA) creates an index that separates the two segments (value and quality shoppers) on the basis of the descriptor variables</p></li>
<li><p>Let’s continue to use the previous example to simplify the explanation</p></li>
<li>
<p>We have only two segments and so one discriminant function</p>
<ul>
<li>In general, we can identify <em># of segment - 1</em> discriminant function</li>
</ul>
</li>
<li><p>We used two descriptor variables: Income and Education</p></li>
</ul></section><section id="two-segment-discriminant-analysis-cont." class="slide level2 small"><h2>Two-segment Discriminant Analysis (cont.)</h2>
<ul>
<li>
<p>Discriminant function is a combination of the descriptor variables</p>
<p><span class="math display">\[ Y(x) = \beta_1 \cdot x_1+ \beta_2 \cdot x_2 \]</span></p>
<p>where</p>
<ul>
<li>
<p><span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_2\)</span> are the descriptor variables (income and education in this example)</p>
<ul>
<li>These are the data we obtained</li>
</ul>
</li>
<li>
<p><span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> are the weights indicating the importance of each descriptor variable</p>
<ul>
<li>These will be estimated through the model</li>
</ul>
</li>
<li>
<p><span class="math inline">\(Y\)</span> is an index score that captures whether a focal shopper is a value or quality shopper</p>
<ul>
<li>These are the combination of the data <span class="math inline">\(x\)</span> and the estimates <span class="math inline">\(\beta\)</span>
</li>
</ul>
</li>
</ul>
</li>
</ul></section><section id="two-segment-discriminant-analysis-cont.-1" class="slide level2 small"><h2>Two-segment Discriminant Analysis (cont.)</h2>
<ul>
<li>
<p>Before making any interpretation, we need to check whether the discriminant function is statistically significant</p>
<ul>
<li><p>If not significant, we don’t have a meaningful separation between the two groups</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Analysis_of_variance"><strong>Anova</strong> <strong>analysis</strong></a> is usually used</p></li>
</ul>
</li>
<li>
<p>If the discriminant function is significant, we can now calculate each shopper’s index score</p>
<ul>
<li><p>This can be done by plugging each shopper’s descriptors into the discriminant function</p></li>
<li><p>Suppose we get <span class="math inline">\(\beta_1 = 40\)</span> and <span class="math inline">\(\beta_2 = 13\)</span> and</p></li>
<li><p>individual A’s <span class="math inline">\(x_1 = 100\)</span> and <span class="math inline">\(x_2 = 12\)</span></p></li>
<li><p>Then the index score <span class="math inline">\(Y = 40 \cdot 100 + 13 \cdot 12 = 4156\)</span></p></li>
</ul>
</li>
</ul></section><section id="two-segment-discriminant-analysis-cont.-2" class="slide level2 small"><h2>Two-segment Discriminant Analysis (cont.)</h2>
<ul>
<li><p>If the index score is large, a DA classifier will predict that the customer quality shopper</p></li>
<li><p>If the index score is small, a DA classifier will predict that the customer value shopper</p></li>
<li>
<p>There are numerous algorithms to classify them</p>
<ul>
<li><p>The most common one is to classify a shopper as a value shopper if her score is closer to the mean of the value shoppers’ score</p></li>
<li><p>Similarly, if one’s score is closer to the mean of the quality shoppers’ score, then classify her as a quality shopper</p></li>
</ul>
</li>
<li>
<p>Finally, we need to test if the discriminant function provides accurate differentiation between the two groups</p>
<ul>
<li><p>Compare the prediction of group membership with the shoppers’ group membership based on the cluster analysis</p></li>
<li><p>Calculate the hit rate using confusion table (will explain)</p></li>
</ul>
</li>
</ul></section><section id="three--or-more-segment-discriminant-analysis" class="slide level2 small"><h2>Three- (or More) Segment Discriminant Analysis</h2>
<ul>
<li>
<p>It is straightforward to generalize the two-segment discriminant analysis</p>
<ul>
<li>We can increase the discriminant function up to <em># of segments - 1</em>
</li>
</ul>
</li>
<li>
<p>Usually, the number of statistically significant discriminant functions is less than the <em># of segments- 1</em></p>
<ul>
<li>Use only the statistically significant discriminant functions to classify customers.&nbsp;</li>
</ul>
</li>
<li>
<p>The first significant discriminant function will always provide the most discrimination</p>
<ul>
<li>Each additional statistically significant discriminant function will provide less power for discrimination</li>
</ul>
</li>
</ul></section><section id="agenda-2" class="slide level2 medium"><h2>Agenda</h2>
<ul>
<li><p>Introduction</p></li>
<li>
<p>Discriminant Analysis and Classification</p>
<ul>
<li><p>Two-segment Discriminant Analysis</p></li>
<li><p>Three- (or More) Segment Discriminant Analysis</p></li>
</ul>
</li>
<li><p><strong>Discriminant Analysis using R</strong></p></li>
<li><p>Takeaways</p></li>
</ul></section><section id="chestnut-ridges-problem" class="slide level2 medium"><h2>Chestnut Ridge’s Problem</h2>
<ul>
<li>
<p>You, as the marketing manager of Chestnut Ridge, have successfully completed the segmentation analysis</p>
<ul>
<li><p>Well, you, as a marketing analytics student, did the replication homework</p></li>
<li><p>This exercise is a continuation of the previous segmentation example</p></li>
</ul>
</li>
<li>
<p>Now, you want to classify the prospects on your mailing list</p>
<ul>
<li><p>Unfortunately, you don’t have base variables for prospects</p></li>
<li><p>You have only their demographic variables</p></li>
</ul>
</li>
</ul></section><section id="chestnut-ridges-problem-cont." class="slide level2 medium"><h2>Chestnut Ridge’s Problem (cont.)</h2>
<ul>
<li><p>You need to first profile the <strong>customers you have already segmented using demographic characteristics</strong></p></li>
<li><p>Then, you can see whether these demographic variables can be good predictors of each customer’s segment membership using discriminant analysis</p></li>
<li>
<p>Your goal is</p>
<ul>
<li><p>What is the demographic profile of your current customer segments?</p></li>
<li><p>Are there certain demographic variables that are good at discriminating between customer segments?</p></li>
<li><p>Can we classify the prospects into segments based on your discriminant analysis?</p></li>
</ul>
</li>
</ul></section><section id="discriminant-analysis-in-r" class="slide level2 small"><h2>Discriminant Analysis in R</h2>
<ul>
<li>First things first: You need to load the relevant packages:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="do">## Install Packages (if needed) </span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">#install.packages("MASS")  </span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="do">## Load Packages and Set Seed </span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(readr) <span class="co"># reading the dataset </span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(MASS) <span class="co">#For LDA function library(tidyverse)  </span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Next, we need to set the working directory and import the data
<ul>
<li>Bring both segmentation results (from previous class) and prospect dataset retail_classification.csv</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">#You have to choose your own wd and file directory </span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">setwd</span>(<span class="st">"G:/My Drive/Teaching/Marketing Analytics/Chapter Examples"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>seg <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"segmentation_results.csv"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>seg <span class="ot">=</span> <span class="fu">column_to_rownames</span>(<span class="at">.data =</span> seg, <span class="at">var =</span> <span class="st">"...1"</span>) <span class="co">#Need to change first column as the row name</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>prospect <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Chapter 4/retail_classification.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="discriminant-analysis-in-r-cont." class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>Let’s <code>glimpse</code> at the first data
<ul>
<li>In the last column, we can see the segmentation that we stored last session</li>
<li>Also, we have both bases and demographic of 2,000 individuals</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">glimpse</span>(seg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,000
Columns: 16
$ avg_order_size &lt;dbl&gt; 23.400000, 34.260377, 43.575641, 26.316667, 8.269231, 2…
$ avg_order_freq &lt;dbl&gt; 2.2222222, 6.6250000, 4.8750000, 0.9000000, 1.0833333, …
$ crossbuy       &lt;dbl&gt; 3, 7, 5, 4, 3, 1, 2, 3, 1, 1, 1, 3, 5, 4, 1, 2, 1, 1, 2…
$ multichannel   &lt;dbl&gt; 2, 2, 2, 2, 1, 2, 1, 2, 1, 1, 1, 2, 2, 3, 2, 1, 1, 1, 2…
$ per_sale       &lt;dbl&gt; 0.00000000, 0.11111111, 0.07407407, 0.25000000, 0.50000…
$ tenure         &lt;dbl&gt; 3, 35, 12, 9, 40, 7, 8, 17, 14, 3, 5, 4, 33, 40, 3, 12,…
$ return_rate    &lt;dbl&gt; 0.1175214, 0.2818684, 0.2741769, 0.1435508, 0.0000000, …
$ married        &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0…
$ own_home       &lt;dbl&gt; 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1…
$ household_size &lt;dbl&gt; 1, 3, 4, 1, 2, 1, 1, 1, 2, 8, 3, 1, 1, 1, 3, 5, 1, 1, 8…
$ loyalty_card   &lt;dbl&gt; 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1…
$ income         &lt;dbl&gt; 35, 140, 35, 35, 140, 80, 70, 35, 35, 35, 35, 100, 75, …
$ age            &lt;dbl&gt; 47, 70, 21, 62, 21, 21, 86, 70, 57, 21, 21, 21, 65, 29,…
$ avg_mktg_cnt   &lt;dbl&gt; 56.0000000, 14.9142857, 20.0833333, 8.2222222, 1.350000…
$ zip_code       &lt;dbl&gt; 21230, 22301, 19002, 22304, 20124, 22033, 8757, 8109, 2…
$ segment        &lt;dbl&gt; 1, 3, 3, 1, 5, 4, 4, 1, 4, 4, 4, 1, 1, 3, 4, 4, 4, 4, 1…</code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-1" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>Let’s <code>glimpse</code> at the second data
<ul>
<li>We only have demographics of 8,000 people</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">head</span>(prospect)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  Pros_No married own_home household_size income   age zip_code
    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;          &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1       1       0        1              1     45    42     8201
2       2       1        1              2     35    43     8690
3       3       1        1              1     75    76    22203
4       4       1        1              2     35    36    22026
5       5       1        1              5    175    62    19103
6       6       1        1              1     35    42    22030</code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-2" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>Now, Run the model using the <code>lda</code> function in <code>MASS</code> package</li>
<li>We first want to understand the association between the segmentation assignment and demographic variables
<ul>
<li>Notice that we used “seg” data as opposed to “prospect” data</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lda</span>(segment <span class="sc">~</span> married <span class="sc">+</span> own_home <span class="sc">+</span> household_size <span class="sc">+</span> income <span class="sc">+</span> age, <span class="at">data =</span> seg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-3" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>Prior probabilities of groups indicate the relative <code>segment</code> size</li>
<li>Group means indicates the average of each demographic variable across segments (groups)</li>
<li>Coefficients of linear discriminants are the standardized coefficients of DA</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(segment ~ married + own_home + household_size + income + 
    age, data = seg)

Prior probabilities of groups:
     1      2      3      4      5 
0.2895 0.0280 0.0940 0.4420 0.1465 

Group means:
    married  own_home household_size   income      age
1 0.4145078 0.5734024       3.031088 73.08290 43.08981
2 0.4107143 0.3214286       2.196429 65.00000 41.53571
3 0.5957447 0.5585106       2.712766 78.35106 41.69681
4 0.3529412 0.6447964       3.019231 72.03054 42.86652
5 0.8191126 0.3788396       2.324232 92.88396 43.88055

Coefficients of linear discriminants:
                        LD1          LD2          LD3         LD4
married         1.687173395 0.6129150733  0.517408034 -0.89148266
own_home       -0.766638135 1.6307271242  0.918463787  0.29462298
household_size -0.089672063 0.1295450182 -0.275997734 -0.30586631
income          0.006543558 0.0108575880 -0.009566684  0.01284854
age             0.002476512 0.0001663506 -0.020518929  0.01157904

Proportion of trace:
   LD1    LD2    LD3    LD4 
0.9140 0.0704 0.0096 0.0060 </code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-4" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>We need to check whether DA is statistically significant</li>
<li>The following codes test whether predicted index scores are significantly associated with the segment assignments</li>
<li>We see that the first discriminant function is significant
<ul>
<li>We have good demographic variables that discriminate across segments</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>ldaPred <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit, seg)</span>
<span id="cb10-2"><a href="#cb10-2"></a>ld <span class="ot">&lt;-</span> ldaPred<span class="sc">$</span>x</span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="fu">anova</span>(<span class="fu">lm</span>(ld[,<span class="dv">1</span>] <span class="sc">~</span> seg<span class="sc">$</span>segment))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: ld[, 1]
              Df  Sum Sq Mean Sq F value    Pr(&gt;F)    
seg$segment    1   38.99  38.989   34.02 6.348e-09 ***
Residuals   1998 2289.82   1.146                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">anova</span>(<span class="fu">lm</span>(ld[,<span class="dv">2</span>] <span class="sc">~</span> seg<span class="sc">$</span>segment))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: ld[, 2]
              Df  Sum Sq Mean Sq F value  Pr(&gt;F)  
seg$segment    1    3.08  3.0840   3.054 0.08069 .
Residuals   1998 2017.62  1.0098                  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">anova</span>(<span class="fu">lm</span>(ld[,<span class="dv">3</span>] <span class="sc">~</span> seg<span class="sc">$</span>segment))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: ld[, 3]
              Df  Sum Sq Mean Sq F value Pr(&gt;F)
seg$segment    1    0.37 0.37498   0.375 0.5404
Residuals   1998 1998.14 1.00007               </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">anova</span>(<span class="fu">lm</span>(ld[,<span class="dv">4</span>] <span class="sc">~</span> seg<span class="sc">$</span>segment))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: ld[, 4]
              Df  Sum Sq Mean Sq F value Pr(&gt;F)
seg$segment    1    1.43 1.42823  1.4298 0.2319
Residuals   1998 1995.75 0.99887               </code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-5" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>Next, we want to determine how well the demographic variables are performing at predicting the original segments</li>
<li>We compare the predicted segments (based on demographic variables) with the actual segments (based on the bases variables); see the codes</li>
<li>
<code>class</code> indicates the predicted segment assignment for each individual</li>
<li>
<code>poterior</code> is the <span class="math inline">\(5\times2000\)</span> dimension matrix that contains the poterior distribution of segment assignment; You will see that <code>class</code> is just the highest <code>poterior</code> value for each individual</li>
<li>
<code>x</code> is the standardized index score</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>pred.seg <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">summary</span>(pred.seg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Length Class  Mode   
class      2000  factor numeric
posterior 10000  -none- numeric
x          8000  -none- numeric</code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-6" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>
<code>table</code> function generates a confusion table of the counts at each combination of the inputs
<ul>
<li>actual segments (<code>seg$segment</code>) and predicted segments (<code>pred.seg</code>)</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>pred.seg <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit)<span class="sc">$</span>class<span class="co"># this gives us the predicted segment assignments</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>tseg <span class="ot">&lt;-</span> <span class="fu">table</span>(seg<span class="sc">$</span>segment, pred.seg) <span class="co">#making confusion table</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>tseg <span class="co"># print table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   pred.seg
      1   2   3   4   5
  1   0   0   0 510  69
  2   0   0   0  50   6
  3   0   0   0 149  39
  4   2   0   0 807  75
  5   0   0   0 169 124</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">sum</span>(<span class="fu">diag</span>(tseg))<span class="sc">/</span><span class="fu">nrow</span>(seg) <span class="co"># print percent correct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4655</code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-7" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>
<code>sum(diag(tseg))/nrow(seg)</code> calculates the hit rates:
<ul>
<li>(0+0+0+807+124)/2000=0.47</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">sum</span>(<span class="fu">diag</span>(tseg))<span class="sc">/</span><span class="fu">nrow</span>(seg) <span class="co"># print percent correct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4655</code></pre>
</div>
</div>
<ul>
<li>Is 47% a good hit rate? What should be the benchmark?
<ul>
<li>What would be the hit rate if we use guessing at random for segment assignment?</li>
</ul>
</li>
</ul></section><section id="discriminant-analysis-in-r-cont.-8" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>We can now classify the prospective consumers in <code>target</code> data</li>
<li>We can follow a very similar procedure
<ul>
<li>
<code>predict(fit, prospect)</code> indicates we want to predict the segments using estimated coefficients from the previous <code>fit</code> run, but using new <code>prospect</code> data</li>
</ul>
</li>
<li>Then, we make a count table</li>
<li>We see that only segment 4 and 5 are identifiable</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="do">## Run classification Using Discriminant Function</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>pred.prospect <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit, prospect)</span>
<span id="cb26-3"><a href="#cb26-3"></a>pred.prospect <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit, prospect)<span class="sc">$</span>class</span>
<span id="cb26-4"><a href="#cb26-4"></a>prospect.table <span class="ot">&lt;-</span> <span class="fu">table</span>(pred.prospect)</span>
<span id="cb26-5"><a href="#cb26-5"></a>prospect.table <span class="co"># print table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>pred.prospect
   1    2    3    4    5 
   0    0    0 7576  424 </code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-9" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>Let’s see the bases characteristics of each segment</li>
<li>Discuss the difference between segment 4 and 5 in terms of bases</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>seg <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(segment) <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(avg_order_size,</span>
<span id="cb28-3"><a href="#cb28-3"></a>         avg_order_freq,</span>
<span id="cb28-4"><a href="#cb28-4"></a>         crossbuy,</span>
<span id="cb28-5"><a href="#cb28-5"></a>         multichannel,</span>
<span id="cb28-6"><a href="#cb28-6"></a>         per_sale,tenure) <span class="sc">%&gt;%</span> </span>
<span id="cb28-7"><a href="#cb28-7"></a>  <span class="fu">summarise_all</span>(<span class="st">"mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 7
  segment avg_order_size avg_order_freq crossbuy multichannel per_sale tenure
    &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
1       1           34.5          1.58      3.36         2.09   0.0618  12.2 
2       2          137.           0.346     1.45         1.27   0.0516   6.55
3       3           30.9          6.56      5.40         2.31   0.162   20.6 
4       4           32.2          0.712     1.53         1.06   0.0113   7.73
5       5           30.3          1.07      2.79         1.55   0.435   34.6 </code></pre>
</div>
</div>
</section><section id="discriminant-analysis-in-r-cont.-10" class="slide level2 small"><h2>Discriminant Analysis in R (cont.)</h2>
<ul>
<li>Let’s see the demographic characteristics of each segment</li>
<li>Discuss the difference between segment 4 and 5 in terms of demographics</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>seg <span class="sc">%&gt;%</span>  <span class="fu">group_by</span>(segment) <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(married,</span>
<span id="cb30-3"><a href="#cb30-3"></a>         own_home,</span>
<span id="cb30-4"><a href="#cb30-4"></a>         household_size,</span>
<span id="cb30-5"><a href="#cb30-5"></a>         income,</span>
<span id="cb30-6"><a href="#cb30-6"></a>         age) <span class="sc">%&gt;%</span> </span>
<span id="cb30-7"><a href="#cb30-7"></a>  <span class="fu">summarise_all</span>(<span class="st">"mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 6
  segment married own_home household_size income   age
    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;          &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1       1   0.415    0.573           3.03   73.1  43.1
2       2   0.411    0.321           2.20   65    41.5
3       3   0.596    0.559           2.71   78.4  41.7
4       4   0.353    0.645           3.02   72.0  42.9
5       5   0.819    0.379           2.32   92.9  43.9</code></pre>
</div>
</div>
</section><section id="agenda-3" class="slide level2 medium"><h2>Agenda</h2>
<ul>
<li><p>Introduction</p></li>
<li>
<p>Discriminant Analysis and Classification</p>
<ul>
<li><p>Two-segment Discriminant Analysis</p></li>
<li><p>Three- (or More) Segment Discriminant Analysis</p></li>
</ul>
</li>
<li><p>Discriminant Analysis using R</p></li>
<li><p><strong>Takeaways</strong></p></li>
</ul></section><section id="takeaways" class="slide level2 small"><h2>Takeaways</h2>
<ul>
<li><p>Discriminant analysis (DA) aims to assign – or classify – objects (e.g., customers) to clusters (e.g., segments) previously identified using cluster analysis</p></li>
<li><p>Discriminant analysis usually uses relatively easily to acquire descriptor variables (e.g., demographics) on the objects</p></li>
<li><p>In marketing, discriminant analysis and classification are used primarily for targeting purposes, and in particular to find easily accessible variables commonly shared by the customer segment (or segments) that is (are) of most interest to the company</p></li>
<li><p>Once these variables are identified using discriminant analysis, researchers can use them on the entire population and hence identify the customers that likely belong to their target segment(s)</p></li>
</ul></section><section id="next-class" class="slide level2 small"><h2>Next Class</h2>
<ul>
<li><p>Positioning: How to draw a perceptual map</p></li>
<li><p>Replication homework</p></li>
</ul>
<div class="footer footer-default">

</div>
</section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/quarto-support/support.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/notes/notes.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/search/search.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/zoom/zoom.js"></script><script src="Sessionxx+2_Discriminant%20Analysis%20for%20Targeting_files/libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>